---
title: '[React] Context APIë¡œ ì „ì—­ ìƒíƒœ ê´€ë¦¬í•˜ê¸°'
author: 'Eunwoo'
thumbnail: '/thumbnail/react.webp'
publishDate: '2025-05-25'
categoryId: 6
---

React Context APIëŠ” í”„ë¡œì íŠ¸ì˜ ìƒìœ„/í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„° ê³µìœ  ë°©ì‹ì´ë‹¤.
`Context API`ë¥¼ ì‚¬ìš©í•˜ë©´ stateë¥¼ propsë¡œ ì „ë‹¬í•˜ëŠ” ëŒ€ì‹ , ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

Reactì—ì„œëŠ” `SSOT(Single Source of Truth)` ì›ì¹™ì„ ë”°ë¥´ê¸° ë•Œë¬¸ì—, ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœëŠ” í•­ìƒ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•´ì•¼ í•œë‹¤.
ê·¸ë˜ì„œ ë³´í†µ í•˜ë‚˜ì˜ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒì„±í•œ stateë¥¼ ì—¬ëŸ¬ ìì‹ ì»´í¬ë„ŒíŠ¸ì— stateë¥¼ ê³µìœ í•˜ë ¤ê³  í•  ë•Œ, propsë¥¼ í†µí•´ì„œ ì „ë‹¬í–ˆì„ ê²ƒì´ë‹¤.
í•˜ì§€ë§Œ ì´ëŸ° ë°©ì‹ì€ ì»´í¬ë„ŒíŠ¸ì˜ depthê°€ ê¹Šì–´ì§ˆìˆ˜ë¡ propsë¥¼ ê³„ì† ì „ë‹¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— `props `drilling`ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ë¬¸ì œë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `Context API`ë¥¼ ì‚¬ìš©í•˜ë©´, ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ê¹Šì€ ê³³ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë„ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒì„±í•œ stateë¥¼ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

# Context APIë€?

![](https://velog.velcdn.com/images/eunwoo1341/post/498f93bc-51c4-4fda-baad-c6db66c33611/image.png)

Reactì˜ Context APIëŠ” ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì „ì²´ì— ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ê³µìœ í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤.

ì¼ë°˜ì ìœ¼ë¡œ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì— ì „ë‹¬ë˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°(state)ë¥¼ prop drilling ì—†ì´ ì „ì—­ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

# Context API êµ¬ì„±ìš”ì†Œ

## createContext()

- ìƒˆë¡œìš´ `Context` ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.
- ì´ ê°ì²´ì—ëŠ” React ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” `Provider`, `Consumer`ê°€ í¬í•¨ë˜ì–´ ìˆë‹¤.

```tsx
const UserContext = createContext(null);
```

createContext(defaultValue)ì—ì„œ defaultValueëŠ” Providerê°€ ì—†ëŠ” ê²½ìš° ì‚¬ìš©í•  ê¸°ë³¸ê°’ì´ë‹¤.
ë‹¨, ì‹¤ì œ ì‚¬ìš© ì‹œì—” í•­ìƒ `<Provider>`ë¡œ ê°’ì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤.

## `<Provider>`

- Contextë¥¼ ì‚¬ìš©í•˜ëŠ” í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì—ê²Œ ê°’ì„ ì „ë‹¬í•œë‹¤.
- ì´ ê°’ì€ value propì„ í†µí•´ ì„¤ì •í•œë‹¤.

```tsx
<UserContext.Provider value={user}>
  <App />
</UserContext.Provider>
```

Contextë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ëŠ” ê°€ì¥ ê°€ê¹Œìš´ Providerì˜ valueë¥¼ ì°¸ì¡°í•œë‹¤.
ë™ì ìœ¼ë¡œ ë°”ë€ŒëŠ” ê°’ë„ ì „ë‹¬ ê°€ëŠ¥í•˜ë‹¤. ì˜ˆ: ë¡œê·¸ì¸ ìƒíƒœ, í…Œë§ˆ, ì–¸ì–´ ë“±.

### ì£¼ì˜ì‚¬í•­

- valueê°€ ë³€ê²½ë˜ë©´ í•´ë‹¹ ê°’ì„ êµ¬ë… ì¤‘ì¸ ëª¨ë“  í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ëœë‹¤.
- ë”°ë¼ì„œ valueëŠ” useMemo()ë¡œ ë©”ëª¨ì´ì œì´ì…˜ í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

## useContext()

- Context ê°’ì„ ì½ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” React Hookì´ë‹¤.
- í•´ë‹¹ Hookì´ í˜¸ì¶œëœ ì»´í¬ë„ŒíŠ¸ëŠ” Providerë¡œë¶€í„° valueë¥¼ êµ¬ë…í•˜ê²Œ ëœë‹¤.

```tsx
const user = useContext(UserContext);
```

í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `Context.Consumer`ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ, í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `useContext()`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ í‘œì¤€ì´ë‹¤.

ì´ Hookì€ ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë” ì‹œ ìë™ìœ¼ë¡œ ìµœì‹  ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.

# Context API ì‚¬ìš© ì˜ˆì‹œ

ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì•± ì „ì—­ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ë¥¼ Context APIë¥¼ ì‚¬ìš©í•´ êµ¬í˜„í•´ë³´ì

- src/contexts/UserContext.tsx

```tsx
import { createContext, useState, useContext } from 'react';

// ì‚¬ìš©ì ì •ë³´ íƒ€ì… ì •ì˜
interface User {
  id: number;
  name: string;
  email: string;
}

// Context ê°’ì˜ íƒ€ì… (user ìƒíƒœ + ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜)
interface UserContextType {
  user: User | null;
  login: (userData: User) => void;
  logout: () => void;
}

// ğŸŸ¢ Context ìƒì„±
const UserContext = createContext<UserContextType | undefined>(undefined);

// ğŸŸ¢ Provider ì»´í¬ë„ŒíŠ¸ (Providerë¡œ ë°ì´í„° ê³µê¸‰ - í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  user ì •ë³´ì™€ login/logout í•¨ìˆ˜ë¥¼ ì „ë‹¬)
export const UserProvider = ({ children }: { children: React.ReactNode }) => {
  const [user, setUser] = useState<User | null>(null);

  const login = (userData: User) => setUser(userData);
  const logout = () => setUser(null);

  const value = { user, login, logout };

  return (
    // ğŸŸ¡ Providerê°€ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì—ê²Œ user ë°ì´í„°ë¥¼ ê³µìœ 
    <UserContext.Provider value={value}>{children}</UserContext.Provider>
  );
};

// ğŸŸ¡ Contextë¥¼ ì‚¬ìš©í•˜ëŠ” Custom Hook (ì‚¬ìš© ê°„í¸í™”)
export const useUser = () => {
  const context = useContext(UserContext);
  if (!context) {
    throw new Error('useUser must be used within a UserProvider');
  }
  return context;
};
```

- src/App.tsx

```tsx
// src/App.tsx
import { UserProvider } from './contexts/UserContext';
import UserInfo from './components/UserInfo';
import LoginPanel from './components/LoginPanel';

function App() {
  return (
    <UserProvider>
      {/* ğŸŸ¡ ì‚¬ìš©ì ì •ë³´ ì œê³µ */}
      <h1>ğŸŒ ì‚¬ìš©ì ê´€ë¦¬</h1>
      <LoginPanel /> {/* ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ */}
      <UserInfo /> {/* ì‚¬ìš©ì ì •ë³´ ì¶œë ¥ */}
    </UserProvider>
  );
}
```

- src/components/UserInfo.tsx

```tsx
// src/components/UserInfo.tsx
import { useUser } from '../contexts/UserContext';

const UserInfo = () => {
  const { user } = useUser(); // ğŸŸ  useContextë¡œ user ê°’ ê°€ì ¸ì˜¤ê¸°

  if (!user) return <p>ë¡œê·¸ì¸ í•„ìš”</p>;

  return (
    <div>
      <p>ì´ë¦„: {user.name}</p>
      <p>ì´ë©”ì¼: {user.email}</p>
    </div>
  );
};
```

- /src/components/LoginPanel.tsx

```tsx
// src/components/LoginPanel.tsx
import { useUser } from '../contexts/UserContext';

const dummyUser = {
  id: 1,
  name: 'í™ê¸¸ë™',
  email: 'gildong@example.com',
};

const LoginPanel = () => {
  const { user, login, logout } = useUser();

  return (
    <div>
      {user ? (
        <>
          <p>í™˜ì˜í•©ë‹ˆë‹¤, {user.name}ë‹˜!</p>
          <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
        </>
      ) : (
        <>
          <p>ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
          <button onClick={() => login(dummyUser)}>ë¡œê·¸ì¸</button>
        </>
      )}
    </div>
  );
};
```

# Context API ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

- `useContext()`ëŠ” ë‹¨ìˆœíˆ ê°’ë§Œ ì½ëŠ” Hookì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ê°’ì´ ë°”ë€Œë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ëœë‹¤.
- Providerê°€ ì „ë‹¬í•˜ëŠ” ê°ì²´ëŠ” ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±ë˜ë©´ ì•ˆ ëœë‹¤.

```tsx
const value = useMemo(() => ({ user, login, logout }), [user]);
<UserContext.Provider value={value}>{children}</UserContext.Provider>;
```

# ìš”ì•½

| ìš”ì†Œ              | ì—­í•          | íŠ¹ì§•                               |
| ----------------- | ------------ | ---------------------------------- |
| `createContext()` | Context ìƒì„± | Provider/Consumer í¬í•¨             |
| `<Provider>`      | ê°’ ì „ë‹¬      | ê°€ì¥ ê°€ê¹Œìš´ Providerì˜ ê°’ì´ ì ìš©ë¨ |
| `useContext()`    | ê°’ ì†Œë¹„      | Context ê°’ êµ¬ë… ë° ìë™ ì—…ë°ì´íŠ¸   |
