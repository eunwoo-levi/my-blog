---
title: '[React] FrontEndì˜ ì„±ëŠ¥ ìµœì í™” ë”¥ë‹¤ì´ë¸Œ'
author: 'Eunwoo'
thumbnail: '/thumbnail/reactjs.webp'
publishDate: '2025-09-02'
categoryId: 6
---

### "ì„±ëŠ¥ì´ ê³§ ì‚¬ìš©ì ê²½í—˜ì´ë‹¤"

ì´ë²ˆ ê¸€ì˜ ëª©í‘œëŠ” 'ê¸°ìˆ ì„ ì‚¬ìš©í•´ì„œ, ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ëŠ” ë²•ì„ í•™ìŠµí•˜ê³  ì ìš©í•˜ëŠ” ê²ƒ'ì´ë‹¤.
ì¦‰, ì„±ëŠ¥ ìµœì í™”ì˜ ëª©í‘œ ì—­ì‹œ ê·¸ ì¤‘ì‹¬ì—ëŠ” 'ì‚¬ìš©ì ê²½í—˜'ì´ ìˆì–´ì•¼ í•œë‹¤.

ë‹¨ìˆœíˆ ì—”ì§€ë‹ˆì–´ë¡œì„œ ìš•ì‹¬ì„ ë‚´ì„œ í•„ìš”ì—†ëŠ” ì„±ëŠ¥ íŠœë‹ì— ë§¤ë‹¬ë ¤ìˆê±°ë‚˜, ê¸°ìˆ ì ìœ¼ë¡œ ìˆì–´ë³´ì—¬ì„œ ê°€ ì•„ë‹ˆë¼
ì •í™•í•˜ê²Œ ì–´ë–¤ ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´ ì´ ìµœì í™”ê°€ í•„ìš”í•œ ê²ƒì¸ì§€ë¥¼ ì‚¬ì „ì— ì •ì˜í•˜ê³ , ê·¸ê±¸ ìœ„í•œ ì‘ì—…ì„ í•´ë‚¼ ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

ê°™ì€ ë§¥ë½ì—ì„œ,
ì¸¡ì •í•´ë³¸ ê²°ê³¼ ì´ë¯¸ ì¶©ë¶„íˆ ì¢‹ì€ ê²½í—˜ì„ ì£¼ê³  ìˆë‹¤ë©´, êµ³ì´ â€˜ì„±ëŠ¥ ê°œì„ â€™ì´ í•„ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ê¸°ë„ í•œë‹¤.
í•„ìš”í•˜ì§€ ì•Šë‹¤ë©´, êµ³ì´ í•˜ì§€ ì•Šê³  ê·¸ ì™¸ì— ë” ì¤‘ìš”í•œ ì‘ì—…ì— ë¦¬ì†ŒìŠ¤ë¥¼ íˆ¬ìí•  ì¤„ ì•„ëŠ” ê²ƒ ì—­ì‹œ ì¤‘ìš”í•œ ì—­ëŸ‰ì´ë‹¤.

ê·¸ë ‡ë‹¤ë©´ ì‹¤ì œ ì„œë¹„ìŠ¤ ê°œë°œíŒ€ì—ì„œ ì„±ëŠ¥ ë¬¸ì œë¥¼ ê³ ë ¤í•˜ê²Œ ë˜ëŠ” ìƒí™©ë“¤ì€ ì–´ë–¤ ê²ƒì´ ìˆì„ê¹Œ?
íŒ€ë§ˆë‹¤, ì„œë¹„ìŠ¤ë§ˆë‹¤ ë‹¤ë¥´ê² ì§€ë§Œ ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ë“¤ì—ì„œ
ìš°ë¦¬ì—ê²Œ 'ì„±ëŠ¥'ê³¼ ê´€ë ¨ëœ íƒœìŠ¤í¬ê°€ ì£¼ì–´ì§ˆ ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/863198ab-2553-4f44-b945-299894f732ef/image.png)

ì¶”í›„ ì‹¤ë¬´ ìƒí™©ì—ì„œ ìœ„ì™€ ê°™ì€ ì¼ì´ ìƒê²¼ì„ ë•Œ 'ì•„ì˜ˆ ì²˜ìŒ ë“£ëŠ”ë°? ë­˜ í•´ì•¼ í•˜ëŠ” ê±°ì§€?!'ê°€ ì•„ë‹ˆë¼ 'í â€¦ë­”ê°€ ì´ëŸ° ê²ƒë“¤ì„ ì¢€ í™•ì¸í•´ë´ì•¼ í•˜ë ¤ë‚˜? ì •ë„ì˜ ìƒíƒœê°€ ë˜ëŠ” ê±¸ ëª©í‘œë¡œ í•œë‹¤.

# ì„±ëŠ¥ ê°œì„  í”„ë¡œì„¸ìŠ¤

ê·¸ë˜ì„œ ì–´ëŠ ë‚  íŒ€ì—ì„œ ì´ëŸ° ì´ì•¼ê¸°ê°€ ë‚˜ì˜¨ë‹¤ë©´, ì–´ë–¤ ê³¼ì •ì„ ê±°ì³ì„œ ì„±ëŠ¥ ë¬¸ì œë¼ëŠ” ê²ƒì„ í•´ê²°í•´ ë‚˜ê°€ì•¼ í• ê¹Œ?

![](https://velog.velcdn.com/images/eunwoo1341/post/e285ba08-c6c9-4fed-b2b5-20b7e93f5fcf/image.png)

ì„±ëŠ¥ ë¬¸ì œë¥¼ ì¸¡ì •í•˜ê³ : 'ì´ê²Œ ì§„ì§œ ëŠë¦°ê±´ê°€? ì–¼ë§ˆë‚˜ ëŠë¦°ê±´ê°€? ì–´ë””ê°€ ëŠë¦°ê±°ì§€?'
ì¸¡ì •í•œ ë¬¸ì œì˜ ì›ì¸ì„ ë¶„ì„í•˜ê³ : 'ì–´ë–¤ ë¶€ë¶„ ë•Œë¬¸ì— ë¬¸ì œê°€ ìƒê¸°ê³  ìˆëŠ” ê±°ì§€?'
'ë¬¸ì œì— ë§ëŠ”' í•´ê²°ì±…ì„ ì°¾ì•„ ê°œì„ í•˜ê³ 
ê²°ê³¼ì ìœ¼ë¡œ ì˜ í•´ê²°ì´ ë˜ì—ˆëŠ”ì§€ë¥¼ ë‹¤ì‹œ ì¸¡ì •í•´ì„œ í™•ì¸í•œë‹¤.
ê·¸ë¦¬ê³  í•„ìš”í•˜ë©´ ì´ ì‚¬ì´í´ì„ ë°˜ë³µí•´ì„œ ëŒë©° ë¬¸ì œë¥¼ ì°¾ê³ , ë¶„ì„í•˜ê³ , ê°œì„ í•œë‹¤.

ê·¸ë˜ì„œ, ì›¹ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ 'ì„±ëŠ¥ ë¬¸ì œ'ë¼ëŠ” ê±´ ë­˜ ê°œì„ í•´ì•¼ í•˜ëŠ” ê±¸ê¹Œ?
í¬ê²Œ 2ê°€ì§€ë¡œ êµ¬ë¶„í•œë‹¤.

#### (1) ë¡œë”© ì„±ëŠ¥

#### (2) ë Œë”ë§ ì„±ëŠ¥

![](https://velog.velcdn.com/images/eunwoo1341/post/14b8cebe-2a67-44b2-a93f-9641dae783b9/image.png)

ì¦‰, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì„±ëŠ¥ì„ ê°œì„ í•œë‹¤ëŠ” ê±´ ì´ ë‘ ê°€ì§€ ì˜ì—­ì—ì„œì˜ ë¬¸ì œê°€ ìˆëŠ”ì§€ ì°¾ì•„ë³´ê³ , ê·¸ê±¸ í•´ê²°í•˜ëŠ” ê³¼ì •ì´ ëœë‹¤.

`í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥ ê°œì„  = ë¡œë”© ì„±ëŠ¥ + ë Œë”ë§ ì„±ëŠ¥  ë¬¸ì œë¥¼ ì°¾ì•„ í•´ê²°`

ê·¸ëŸ¼ í•´ë‹¹ ë¬¸ì œì ì€ ì£¼ë¡œ ì–´ë–¤ ê²ƒë“¤ì´ ìˆì„ê¹Œ?

![](https://velog.velcdn.com/images/eunwoo1341/post/df28218c-d54d-4022-a67b-188a43b9c3d0/image.png)

ì—¬ê¸°ì„œ ë¡œë”© ì„±ëŠ¥ ê°œì„ ê³¼ ë Œë”ë§ ì„±ëŠ¥ì€ ì•„ë˜ì™€ ê°™ì´ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/94bd99c0-6acc-4a3d-a71e-2b6d27a95466/image.png)

ì´ ì™¸ì—ë„ ì•„ë˜ì™€ ê°™ì€ ê¸°ì¤€ë“¤ì´ ìˆë‹¤.

- íƒ€ì„ë¼ì¸ ê¸°ì¤€ ë¡œë”©/ë Œë”ë§
- ì§€í‘œ ê¸°ì¤€
  ex. LCP, CLS, TTI, Lighthouse score ...
- ìµœì í™” ëŒ€ìƒ ë¦¬ì†ŒìŠ¤ ì¢…ë¥˜ ê¸°ì¤€
  ex. ì´ë¯¸ì§€, í°íŠ¸, ì• ë‹ˆë©”ì´ì…˜, CSS, ...
- +a

---

í”„ë¡œì íŠ¸ë¥¼ í†µí•´ì„œ í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥ ìµœì í™”ë¥¼ í•´ë³´ì.

### Lighthouse

![](https://velog.velcdn.com/images/eunwoo1341/post/6f8116cd-6c82-41bc-abbe-76d7e85cc36c/image.png)

![](https://velog.velcdn.com/images/eunwoo1341/post/bb0a7095-c450-4bdb-8cd2-21fa6fa03c16/image.png)

![](https://velog.velcdn.com/images/eunwoo1341/post/cc7aba96-607b-4b99-8a22-385a2c08aeb2/image.png)

í˜„ì¬ ìµœì í™”ë¥¼ í•˜ì§€ ì•Šì€ ì´ í”„ë¡œì íŠ¸ì—ëŠ” ê³³ê³³ì— ì„±ëŠ¥ì„ ì €í•˜ì‹œí‚¤ëŠ” ìš”ì†Œë“¤ë¡œ ê°€ë“í•˜ë‹¤.
ì—¬ê¸°ì €ê¸° êµ¬ë©ë‚œ ê³³ë“¤ì„ ê³ ì³ì„œ, ê¸°ë³¸ì ì¸ ìˆ˜ì¤€ìœ¼ë¡œ ì“°ëŠ” ë°ì— ë¶ˆí¸í•¨ì´ ì—†ëŠ” ë²„ì „ 1.0.0ì„ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ ì´ë²ˆ ëª©í‘œì´ë‹¤.

í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ê°œì„ í•´ë³´ì.

# 1. ìš”ì²­ í¬ê¸° ì¤„ì´ê¸°

- ì†ŒìŠ¤ì½”ë“œ í¬ê¸° ì¤„ì´ê¸°
- ì´ë¯¸ì§€ í¬ê¸° ì¤„ì´ê¸°

![](https://velog.velcdn.com/images/eunwoo1341/post/8edb642d-a365-4cb4-b63d-497e78d9249b/image.png)

ì²« ë²ˆì§¸ ì„¹ì…˜ì€ ìš”ì²­ í¬ê¸°ê°€ ë„ˆë¬´ ì»¤ì„œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ìƒí™©ë“¤ì´ë‹¤.

ê°œë°œìë„êµ¬ ë„¤íŠ¸ì›Œí¬ íƒ­ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒê°í•´ë³´ìë©´, íƒ€ì„ë¼ì¸ì— ë“¤ì–´ìˆëŠ” ê° ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì‹œê°„ì˜ ê°€ë¡œ ê¸¸ì´ë¥¼ ì¤„ì´ê¸° ìœ„í•œ ë°©ë²•ë“¤ì„ ì°¾ì•„ë´ì•¼ í•˜ëŠ” ìƒí™©ë“¤ì´ë¼ í•  ìˆ˜ ìˆë‹¤. í˜ì´ì§€ë¥¼ ë¡œë“œí•  ë•Œ ì´ íƒ€ì„ë¼ì¸(ì›Œí„°í´ ì°¨íŠ¸ ë¼ê³ ë„ í•œë‹¤)ì„ ì‚´í´ë³´ë©´ì„œ ì–´ë–¤ ë¦¬ì†ŒìŠ¤ ë¡œë“œê°€ ìœ ë… ì˜¤ë˜ ê±¸ë¦¬ëŠ”ì§€ë¥¼ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/257ee283-13dd-4060-9bcc-77260b7dec53/image.png)

ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ë©´, ì´ ì‹œê°ì´ ê°ê° ì–´ë–¤ ì‘ì—…ì¸ì§€ë„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆëŠ”ë°, Request sent, TTFB(Time to First Byte), Content Download ì‹œê°„ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ì´ ì¤‘ í”„ë¡ íŠ¸ì—”ë“œ ìª½ ì‘ì—…ìœ¼ë¡œ ë¡œë”© ì†ë„ë¥¼ ê°œì„ í•  ë•Œì—ëŠ” ê°€ì¥ ë§ˆì§€ë§‰ì— ìˆëŠ” `Content Download` ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•œ ê²ƒì„ ëª©í‘œë¡œ í•œë‹¤.
(ë‹¤ë¥¸ ìš”ì†Œë“¤ì€ ì–´ë–¤ ê±¸ ì˜ë¯¸í•˜ëŠ”ì§€, ê·¸ê²ƒë„ ì¤„ì´ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ëŠ”ì§€ë„ ì¶”ê°€ì ìœ¼ë¡œ í•™ìŠµí•´ë³´ë©´ ë” ì¢‹ë‹¤)

ì–´ë–¤ íƒ€ì…ì˜ ìš”ì²­ì´ í°ê°€?ì— ëŒ€í•´ì„œ ì•Œê¸°ìœ„í•´
ì›¹ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” ì½˜í…ì¸ ë“¤ì˜ ì¢…ë¥˜ì— ë”°ë¼ ë‚˜ëˆ„ì–´ ì‚´í´ë³´ì.

### ì›¹ í˜ì´ì§€ì—ì„œ ìš”ì²­í•˜ëŠ” ë¦¬ì†ŒìŠ¤ íƒ€ì…

ê°€ì¥ ìì£¼ ë³´ê²Œ ë  3ê°€ì§€ íƒ€ì…ì— ëŒ€í•´ ì‚´í´ë³´ì.

- í…ìŠ¤íŠ¸ ì»¨í…ì¸  > ì†ŒìŠ¤ì½”ë“œ
- ì´ë¯¸ì§€
- í°íŠ¸

![](https://velog.velcdn.com/images/eunwoo1341/post/a67682d2-a3bc-48b7-a5aa-d68a8ef5a018/image.png)

## 1 í…ìŠ¤íŠ¸ ì»¨í…ì¸  (ì†ŒìŠ¤ì½”ë“œ)

### minify & uglify

webpack4ë¶€í„°ëŠ” production ëª¨ë“œì—ì„œ ê¸°ë³¸ìœ¼ë¡œ minify & uglifyê°€ ì ìš©ëœë‹¤. 5ë¶€í„°ëŠ” íŒŒì„œë„ ë‚´ì¥ë˜ì–´ ìˆë‹¤.
ë•Œë¬¸ì— ì´í›„ì— ê°œë°œì„ í•˜ì‹¤ ë•Œ ì´ê±¸ ë³´í†µ í”„ë¡œì íŠ¸ì—ì„œ ê°•ì œë¡œ ì„¤ì •í•˜ì§€ ì•Šì•„ë„, ëŒ€ë¶€ë¶„ ë²ˆë“¤ëŸ¬ì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•´ì¤„ ê²ƒì´ìš”.

ë‹¤ë§Œ ë„ˆë¬´ ê¸°ë³¸ ì§€ì›ì´ ì˜ ë˜ì–´ ìˆë‹¤ë³´ë‹ˆ ì•„ì˜ˆ ëª¨ë¥´ê³  ìˆëŠ” ê²½ìš°ê°€ ìˆì–´ì„œ, ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” ê°•ì œë¡œ ì•ˆí•˜ëŠ” ì„¤ì •ì„ ì¶”ê°€í•´ì„œ í•™ìŠµí•´ ë³´ê² ë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/a9ff489a-8c4d-4fd3-a199-77796f93d1b0/image.png)

### gzip, brotli

ë‹¤ìš´ë¡œë“œ ë°›ì„ ì½˜í…ì¸ ì— ì••ì¶•ë„ ì˜ ì ìš©ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ë´ì•¼í•œë‹¤.
ì½˜í…ì¸  ì••ì¶• í˜•ì‹ìœ¼ë¡œ gzip, brotliê°€ ìˆë‹¤.
CloudFrontì—ì„œ ë‚´ë ¤ë°›ì€ íŒŒì¼ì˜ í—¤ë”ë¥¼ ë³´ì‹œë©´ content-encoding í—¤ë”ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤. ì´ ì½˜í…ì¸ ì— ì ìš©ëœ ì••ì¶• í˜•ì‹ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/f663b2e3-9313-4fdc-978e-81462c225cdc/image.png)

gzipì€ ì••ì¶• í”„ë¡œê·¸ë¨ì´ë©° í˜„ì¬ ê¸°ì¤€ ëª¨ë“  ëª¨ë˜ ë¸Œë¼ìš°ì €ì—ëŠ” ê¸°ë³¸ìœ¼ë¡œ ë‚´ì¥ë˜ì–´ ìˆì–´ì„œ, ì„œë²„ì—ì„œ ì´ ì••ì¶•ì„ ì‚¬ìš©í•´ì„œ ì••ì¶•í•œ íŒŒì¼ì„ ë‚´ë ¤ì£¼ì—ˆì„ ë•Œ ë¸Œë¼ìš°ì €ê°€ ì¸ì‹í•´ì„œ ì••ì¶•ì„ í•´ì œí•  ìˆ˜ ìˆë‹¤.
ì´ëŸ° ì••ì¶• í˜•ì‹ì„ ì„¤ì •í•  ë•Œì—ëŠ” ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì–‘ìª½ì—ì„œ ë‹¤ ì˜ ì ìš©ë˜ì–´ìˆëŠ”ì§€/ì§€ì›ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì…”ì•¼ í•˜ë‹ˆ ì°¸ê³ í•´ì£¼ì.

ì´ë¡ ì€ ë“¤ì—ˆìœ¼ë‹ˆ ì‹¤ì œ í”„ë¡œì íŠ¸ `webpack.config.ts` íŒŒì¼ì—ì„œ ì½”ë“œë¥¼ ìµœì í™”í•´ë³´ë©´ì„œ ê°œì„ ì„ í•´ë³´ì.

```ts
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const Dotenv = require('dotenv-webpack');
const CopyWebpackPlugin = require('copy-webpack-plugin');

module.exports = {
  entry: './src/index.tsx',
  resolve: { extensions: ['.ts', '.tsx', '.js', '.jsx'] },
  output: {
    filename: 'bundle.js',
    path: path.join(__dirname, '/dist'),
    clean: true,
  },
  devServer: {
    hot: true,
    open: true,
    historyApiFallback: true,
  },
  devtool: 'source-map',
  plugins: [
    new HtmlWebpackPlugin({
      template: './index.html',
    }),
    new CopyWebpackPlugin({
      patterns: [{ from: './public', to: './public' }],
    }),
    new Dotenv(),
  ],
  module: {
    rules: [
      {
        test: /\.(js|jsx|ts|tsx)$/i,
        exclude: /node_modules/,
        use: {
          loader: 'ts-loader',
        },
      },
      {
        test: /\.css$/i,
        use: ['style-loader', 'css-loader'],
      },
      {
        test: /\.(eot|svg|ttf|woff|woff2|png|jpg|gif)$/i,
        loader: 'file-loader',
        options: {
          name: 'static/[name].[ext]',
        },
      },
    ],
  },
  optimization: {
    minimize: false,
  },
};
```

ê¸°ë³¸ì ìœ¼ë¡œ ì´ ì½”ë“œì˜ ë¬¸ì œì ë“¤ì„ ì •ë¦¬í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

1. ì••ì¶•/ìµœì í™” ë¹„í™œì„±í™”

   - optimization.minimize: falseë¡œ minify/uglify ë¹„í™œì„±í™”.
   - ê²°ê³¼: JS íŒŒì‹±Â·ì‹¤í–‰ ì‹œê°„ ì¦ê°€, ë²ˆë“¤ í¬ê¸° ë¶ˆí•„ìš”í•˜ê²Œ í¼ â†’ TBT ìƒìŠ¹ ìš”ì¸.

2. ìºì‹œ ë¶€ì í•©í•œ íŒŒì¼ëª…

   - bundle.js ê³ ì • íŒŒì¼ëª…: ë‚´ìš©ì´ ë°”ë€Œì–´ë„ íŒŒì¼ëª…ì´ ê°™ì•„ ë¸Œë¼ìš°ì € ìºì‹œê°€ ê¼¬ì„(stale).
   - ê²°ê³¼: ë°°í¬ í›„ì—ë„ ì˜¤ë˜ëœ ì½”ë“œê°€ ë‚¨ê±°ë‚˜, ë°˜ëŒ€ë¡œ ë§¤ ë°°í¬ë§ˆë‹¤ ì „ì²´ ìºì‹œ ë¬´íš¨í™”.

3. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ë¶€ì¬

   - ëª¨ë“  ì½”ë“œë¥¼ í•œ íŒŒì¼ì—: ì´ˆê¸° ë¡œë“œ ë•Œ í° long taskê°€ ë°œìƒ.
   - ê²°ê³¼: ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹(TBT ìƒìŠ¹), ì²« í˜ì¸íŠ¸ ì§€ì—°.

4. ëŸ°íƒ€ì„/ë²¤ë”ì™€ ì•± ì½”ë“œ ì„ì„

   - ì‚¬ì†Œí•œ ë³€ê²½ì—ë„ ë²ˆë“¤ í•´ì‹œê°€ í†µì§¸ë¡œ ë³€í•´ ë¡±ìºì‹œ íš¨ê³¼ ì €í•˜.

5. ì†ŒìŠ¤ë§µ ì „ëµ ë¯¸ë¶„ë¦¬
   - prodì—ì„œë„ source-map ê·¸ëŒ€ë¡œ: ë²ˆë“¤ ìš©ëŸ‰ ì¦ê°€, ì†ŒìŠ¤ ë…¸ì¶œ ë¦¬ìŠ¤í¬.
   - 6. ë¡œë” êµ¬ì‹ íŒ¨í„´
   - Webpack5ì—ì„œ ê¶Œì¥í•˜ëŠ” asset modules ëŒ€ì‹  file-loader ê³ ìˆ˜: ë¶ˆí•„ìš”í•œ ì™¸ë¶€ ì˜ì¡´.

ì´ ë¬¸ì œì ë“¤ì„ ì•„ë˜ì™€ ê°™ì´ í•´ê²°í•´ë³´ì•˜ë‹¤.

```ts
const path = require('path');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const Dotenv = require('dotenv-webpack');
const CopyWebpackPlugin = require('copy-webpack-plugin');
const TerserPlugin = require('terser-webpack-plugin');
const CssMinimizerPlugin = require('css-minimizer-webpack-plugin');
const CompressionPlugin = require('compression-webpack-plugin');
const MiniCssExtractPlugin = require('mini-css-extract-plugin');

module.exports = (env, argv) => {
  const isProduction = argv.mode === 'production';

  return {
    entry: './src/index.tsx',
    resolve: {
      extensions: ['.ts', '.tsx', '.js', '.jsx'],
      mainFields: ['module', 'browser', 'main'],
    },
    output: {
      filename: isProduction ? '[name].[contenthash].js' : '[name].bundle.js',
      chunkFilename: isProduction ? '[name].[contenthash].js' : '[name].chunk.js',
      path: path.join(__dirname, 'dist'),
      clean: true,
    },
    devServer: {
      hot: true,
      open: true,
      historyApiFallback: true,
      compress: true,
      port: 3000,
    },
    devtool: isProduction ? 'hidden-source-map' : 'source-map',
    plugins: [
      new HtmlWebpackPlugin({
        template: './index.html',
        scriptLoading: 'defer',
        minify: isProduction
          ? {
              removeComments: true,
              collapseWhitespace: true,
              removeRedundantAttributes: true,
              minifyJS: true,
              minifyCSS: true,
            }
          : false,
      }),
      new CopyWebpackPlugin({ patterns: [{ from: './public', to: './public' }] }),
      new Dotenv(),
      new MiniCssExtractPlugin({
        filename: isProduction ? '[name].[contenthash].css' : '[name].css',
      }),
      ...(isProduction
        ? [
            new CompressionPlugin({
              algorithm: 'gzip',
              test: /\.(js|css|html|svg)$/,
              threshold: 8192,
              minRatio: 0.8,
            }),
          ]
        : []),
    ],
    module: {
      rules: [
        {
          test: /\.(js|jsx|ts|tsx)$/i,
          exclude: /node_modules/,
          use: { loader: 'ts-loader' },
        },
        {
          test: /\.css$/i,
          use: [isProduction ? MiniCssExtractPlugin.loader : 'style-loader', 'css-loader'],
        },
        {
          test: /\.(png|jpe?g|gif|webp|svg)$/i,
          type: 'asset',
          generator: {
            filename: isProduction ? 'static/[name].[contenthash:8][ext]' : 'static/[name][ext]',
          },
          parser: {
            dataUrlCondition: { maxSize: 8 * 1024 },
          },
        },
        {
          test: /\.(eot|ttf|woff|woff2|mp4)$/i,
          type: 'asset/resource',
          generator: {
            filename: isProduction ? 'static/[name].[contenthash:8][ext]' : 'static/[name][ext]',
          },
        },
      ],
    },
    optimization: {
      minimize: isProduction,
      minimizer: [
        new TerserPlugin({
          parallel: true,
          extractComments: false,
          terserOptions: {
            compress: {
              drop_console: isProduction,
              drop_debugger: true,
              pure_funcs: ['console.log'],
            },
            mangle: true,
            format: { comments: false },
          },
        }),
        new CssMinimizerPlugin(),
      ],
      usedExports: true,
      splitChunks: {
        chunks: 'all',
        cacheGroups: {
          react: {
            test: /[\\/]node_modules[\\/](react|react-dom)[\\/]/,
            name: 'react',
            priority: 10,
            chunks: 'all',
          },
          vendor: {
            test: /[\\/]node_modules[\\/]/,
            name: 'vendors',
            priority: -10,
            chunks: 'all',
          },
        },
      },
      runtimeChunk: 'single',
    },
  };
};
```

1. CSS ë¶„ë¦¬ ë° ìµœì í™”

- **MiniCssExtractPlugin ë„ì…** â†’ í”„ë¡œë•ì…˜ì—ì„œëŠ” CSSë¥¼ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬
- **CssMinimizerPlugin ì ìš©** â†’ CSS ì½”ë“œê¹Œì§€ ì••ì¶• ìµœì í™”

2. gzip ë²ˆë“¤ ì••ì¶•

- **CompressionPlugin ì¶”ê°€ (prod only)**
- JS / CSS / HTML / SVG íŒŒì¼ì„ `gzip` ì••ì¶•í•´ ì „ì†¡ íš¨ìœ¨ ê°œì„ 
- ìš´ì˜ í™˜ê²½ì—ì„œëŠ” **CloudFront / Nginxì—ì„œ br+gzip ì¡°í•© ê¶Œì¥**

3. ë²¤ë” ì½”ë“œ ì„¸ë¶„í™”

- **React ì „ìš© ì²­í¬(`react.js`)**ì™€ **ì¼ë°˜ `vendor.js`** ë¶„ë¦¬
- React ì˜ì¡´ì„±ì´ í¬ê¸° ë•Œë¬¸ì— **ìºì‹œ íš¨ìœ¨ì„± ë° ì—…ë°ì´íŠ¸ ìµœì†Œí™”** ê°€ëŠ¥

4. ìì‚° ê´€ë¦¬ ê°•í™”

- **`asset/resource`, `asset` í™œìš©**
- ì´ë¯¸ì§€(WebP í¬í•¨), ê¸€ê¼´, mp4 ë“± í™•ì¥ìë³„ë¡œ ìºì‹œ ì „ëµê³¼ íŒŒì¼ëª… í•´ì‹± ì ìš©
- `dataUrlCondition`ìœ¼ë¡œ ì‘ì€ íŒŒì¼ì€ **base64 ì¸ë¼ì¸ ì²˜ë¦¬**

5. ì½”ë“œ ë‚œë…í™” + ì½˜ì†” ì œê±°

- **TerserPlugin ì„¤ì • ê°•í™”**
- í”„ë¡œë•ì…˜ ë¹Œë“œì—ì„œ `console.log`, `debugger` ì œê±°  
  â†’ ë²ˆë“¤ í¬ê¸° ì¶•ì†Œ + ë³´ì•ˆ ê°•í™”

6. ë¡± ìºì‹œ ì „ëµ

- `filename: [name].[contenthash].js`
- `chunkFilename: [name].[contenthash].js`
- ë‚´ìš© ë³€ê²½ì‹œì—ë§Œ íŒŒì¼ëª… ê°±ì‹  â†’ **ë¸Œë¼ìš°ì € ìºì‹œ ì•ˆì •í™”**

7. ëŸ°íƒ€ì„ ë¶„ë¦¬

- `runtimeChunk: 'single'`
- ì•± ì†ŒìŠ¤ ë³€ê²½ ì‹œì—ë„ **ë²¤ë” ìºì‹œê°€ ê¹¨ì§€ì§€ ì•Šë„ë¡ ëŸ°íƒ€ì„ë§Œ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬**

## ì´ë¯¸ì§€ ìµœì í™”í•˜ê¸°

í‰ê· ì ìœ¼ë¡œ ì›¹ í˜ì´ì§€ ìš©ëŸ‰ì—ì„œ ì´ë¯¸ì§€ê°€ ì°¨ì§€í•˜ëŠ” ë¹„ìœ¨ì€ 60% ì´ìƒì´ë‹¤.
ì´ëŠ” ì´ë¯¸ì§€ì— ëŒ€í•œ ìµœì í™”ë§Œ ì˜ ì ìš©í•´ë„ ì•„ì£¼ í° ì„±ëŠ¥ ê°œì„  íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤ëŠ” ë§ì´ë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/1b1caeec-b8fe-4127-bb26-082d1defd1ac/image.png)

### ì´ë¯¸ì§€ í¬ë§· - ì„¸ìƒì—” ìƒê°ë³´ë‹¤ ë‹¤ì–‘í•œ ì´ë¯¸ì§€ í¬ë§·ì´ ìˆë‹¤

- PNG
  - ë¬´ì†ì‹¤ í¬ë§·
  - JPEGì— ë¹„í•´ 5~10ë°°ê¹Œì§€ë„ ì»¤ì§ˆ ìˆ˜ ìˆìŒ
  - PNG-8, PNG-24 ì— ë”°ë¼ ìš©ëŸ‰ ì°¨ì´
- JPEG
  - ì†ì‹¤ ì••ì¶• ë°©ì‹
  - ìƒëŒ€ì ìœ¼ë¡œ ì‘ì€ í¬ê¸°
  - Progressive JPEG ì™€ ê°™ì€ í˜•ì‹ë„ ìˆìŒ
- WebP
  - ì†ì‹¤ / ë¬´ì†ì‹¤ ì••ì¶• ëª¨ë‘ ì§€ì›
  - ì†ì‹¤ ì••ì¶•ì—ì„œ JPEGë³´ë‹¤ 25~34%. ë¬´ì†ì‹¤ ì••ì¶•ì—ì„œ PNGë³´ë‹¤ 26% ì‘ì€ í¬ê¸°
  - ë¸Œë¼ìš°ì € ì§€ì› ë²”ìœ„ í™•ì¸ í•„ìš”
- GIF
  - ë¬´ì†ì‹¤ í¬ë§·
  - ëŒ€ë¶€ë¶„ ë§¤ìš° í° ìš©ëŸ‰
  - ì• ë‹ˆë©”ì´ì…˜, íˆ¬ëª…ë„ ì§€ì›
- heic/heif
  - ì• í”Œ ê¸°ê¸°ì—ì„œ ì´¬ì˜í•˜ëŠ” ê²½ìš° ì €ì¥ë˜ëŠ” í¬ë§·
  - ì›¹ì—ì„œëŠ” ë°”ë¡œ í‘œê¸°ê°€ ì•ˆë¨

ëª¨ë“  ì´ë¯¸ì§€ í¬ë§·ì— ëŒ€í•œ ì„¸ì„¸í•œ ì •ë³´ë¥¼ ëª¨ë‘ ë¯¸ë¦¬ ì•Œê³  ìˆì–´ì•¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤!
ë‹¤ë§Œ ë‹¤ì–‘í•œ í¬ë§·ì´ ìˆìœ¼ë‹ˆ, ìš©ë„ì— ë”°ë¼ ë§ëŠ” í¬ë§·ì„ í™œìš©í•˜ë©´ ì¢‹ë‹¤.
ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/7a89dbac-9604-4aa7-924c-b9491f0d699d/image.png)

### 1. Image Resize, WebP ë³€í™˜, GIF â†’ MP4 ì „í™˜

- [squoosh](https://squoosh.app) ë„êµ¬ë¥¼ í™œìš©í•´ ì›ë³¸ ì´ë¯¸ì§€ë¥¼ **ì›¹ì— ì í•©í•œ í•´ìƒë„ë¡œ ë¦¬ì‚¬ì´ì¦ˆ**í•˜ê³ , **Reduce Palette(íŒ”ë ˆíŠ¸ ì¶•ì†Œ)** ê¸°ëŠ¥ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ìƒ‰ìƒ ì •ë³´ë¥¼ ì¤„ì—¬ ìš©ëŸ‰ì„ ì ˆê°í–ˆë‹¤.
- ìµœì¢…ì ìœ¼ë¡œ **WebP í¬ë§·**ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë¸Œë¼ìš°ì € í˜¸í™˜ì„±ê³¼ ë¡œë”© ì†ë„ë¥¼ ê°œì„ í–ˆë‹¤.
- ì¶”ê°€ë¡œ, **gif ì• ë‹ˆë©”ì´ì…˜ ë¦¬ì†ŒìŠ¤ëŠ” mp4 ì˜ìƒìœ¼ë¡œ ë³€í™˜**í•˜ì—¬ íŒŒì¼ í¬ê¸°ë¥¼ ëŒ€í­ ì¤„ì´ê³  ë””ì½”ë”© ì„±ëŠ¥ì„ í–¥ìƒì‹œì¼°ë‹¤.  
  â†’ mp4ëŠ” GPU ê°€ì† ì¬ìƒì´ ê°€ëŠ¥í•˜ê³ , ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ë™ì‘í•œë‹¤.

---

### 2. Webpack configì— ì´ë¯¸ì§€ ìµœì í™” ê·œì¹™ ì¶”ê°€

ì´ì „ì—ëŠ” ë‹¨ìˆœíˆ `asset/resource`ë¡œë§Œ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í–ˆë‹¤.  
ìµœì‹  ì„¤ì •ì—ì„œëŠ” **asset ëª¨ë“ˆ + ìºì‹± ìµœì í™” + DataURL ì¸ë¼ì¸ ì²˜ë¦¬**ë¥¼ ê²°í•©í–ˆë‹¤.

```js
{
  test: /\.(png|jpe?g|gif|webp|svg)$/i,
  type: 'asset',
  generator: {
    filename: isProduction ? 'static/[name].[contenthash:8][ext]' : 'static/[name][ext]'
  },
  parser: {
    dataUrlCondition: { maxSize: 8 * 1024 } // 8KB ì´í•˜ íŒŒì¼ì€ DataURLë¡œ ì¸ë¼ì¸ ì²˜ë¦¬
  }
},
{
  test: /\.(eot|ttf|woff|woff2|mp4)$/i, // mp4 ì§€ì› ì¶”ê°€
  type: 'asset/resource',
  generator: {
    filename: isProduction ? 'static/[name].[contenthash:8][ext]' : 'static/[name][ext]'
  }
}
```

- webp í™•ì¥ìë¥¼ ì§€ì›í•´ ìµœì‹  í¬ë§·ê¹Œì§€ ì»¤ë²„.
- ì‘ì€ ë¦¬ì†ŒìŠ¤(8KB ì´í•˜)ëŠ” **DataURL(base64)**ë¡œ ë³€í™˜í•˜ì—¬ HTTP ìš”ì²­ ìˆ˜ ì ˆê°.
- mp4ë¥¼ ì •ì‹ ì§€ì›í•˜ì—¬ gif â†’ mp4 ì „í™˜ ë¦¬ì†ŒìŠ¤ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ê´€ë¦¬.
- `[contenthash:8]`ë¥¼ ì ìš©í•´ íŒŒì¼ ë‚´ìš©ì´ ë³€ê²½ë  ë•Œë§Œ ìƒˆ íŒŒì¼ëª… ìƒì„± â†’ ìºì‹œ íš¨ìœ¨ì„± ê°•í™”.

### ì´ë¯¸ì§€ Element ìµœì í™”

```js
<img
  className={styles.heroImage}
  src={heroImage}
  alt='Memegle Hero image'
  width={1500}
  height={1001}
  loading='eager'
  fetchPriority='high'
  decoding='async'
/>
```

### 1. **`alt` (ëŒ€ì²´ í…ìŠ¤íŠ¸)**

- **Before**: `"hero image"`
- **After**: `"Memegle Hero image"`
- **ì„¤ëª…**: `alt` í…ìŠ¤íŠ¸ëŠ” ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ì—†ì„ ë•Œ (ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜, ìŠ¤í¬ë¦° ë¦¬ë” ì‚¬ìš© ë“±) ì´ë¯¸ì§€ë¥¼ ì„¤ëª…í•´ ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. ì´ì „ë³´ë‹¤ ì„œë¹„ìŠ¤ ì´ë¦„(`Memegle`)ì„ í¬í•¨í•˜ì—¬ ë” êµ¬ì²´ì ì´ê³  ëª…í™•í•œ ì„¤ëª…ì„ ì œê³µí•œë‹¤. ì´ëŠ” **ì›¹ ì ‘ê·¼ì„±**ê³¼ **SEO(ê²€ìƒ‰ ì—”ì§„ ìµœì í™”)** ì–‘ìª½ ëª¨ë‘ì— ë§¤ìš° ì¤‘ìš”í•˜ë‹¤.

---

### 2. **`width`ì™€ `height` (ì´ë¯¸ì§€ í¬ê¸° ëª…ì‹œ)** ğŸ–¼ï¸

- **Before**: ì—†ìŒ
- **After**: `width={1500} height={1001}`
- **ì„¤ëª…**: ì´ë¯¸ì§€ì˜ ë„ˆë¹„ì™€ ë†’ì´ë¥¼ ëª…ì‹œí•˜ëŠ” ê²ƒì€ **CLS (Cumulative Layout Shift, ëˆ„ì  ë ˆì´ì•„ì›ƒ ì´ë™)**ë¥¼ ë°©ì§€í•˜ëŠ” ë° í•µì‹¬ì ì¸ ì—­í• ì„ í•œë‹¤.
  - **CLSë€?**: í˜ì´ì§€ê°€ ë¡œë”©ë˜ë©´ì„œ ì´ë¯¸ì§€ê°€ ë’¤ëŠ¦ê²Œ ë‚˜íƒ€ë‚˜ ë‹¤ë¥¸ ì½˜í…ì¸ ë“¤ì„ ì•„ë˜ë¡œ ë°€ì–´ë‚´ëŠ” í˜„ìƒì´ë‹¤. ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë ¤ëŠ”ë° ê°‘ìê¸° ì´ë¯¸ì§€ê°€ ëœ¨ë©´ì„œ ë²„íŠ¼ì´ ë°€ë ¤ë‚˜ ë‹¤ë¥¸ ê²ƒì„ ëˆ„ë¥´ê²Œ ë˜ëŠ” ë‚˜ìœ ê²½í—˜ì„ ìœ ë°œí•œë‹¤.
  - **í•´ê²°**: `width`ì™€ `height`ë¥¼ ì§€ì •í•˜ë©´, ë¸Œë¼ìš°ì €ëŠ” ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê¸° ì „ì—ë„ **ë¯¸ë¦¬ ê·¸ í¬ê¸°ë§Œí¼ì˜ ê³µê°„ì„ í™•ë³´**í•´ ë‘¡ë‹ˆë‹¤. ë”°ë¼ì„œ ì´ë¯¸ì§€ê°€ ë¡œë”©ë˜ì–´ë„ ë‹¤ë¥¸ ìš”ì†Œë“¤ì´ ë°€ë ¤ë‚˜ì§€ ì•Šì•„ ë ˆì´ì•„ì›ƒì´ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ëœë‹¤.

---

### 3. **`loading="eager"` (ë¡œë”© ì‹œì  ì§€ì •)**

- **Before**: ë¸Œë¼ìš°ì € ê¸°ë³¸ê°’ (ë³´í†µ `eager`ì§€ë§Œ ëª…ì‹œì ì´ì§€ ì•ŠìŒ)
- **After**: `loading="eager"`
- **ì„¤ëª…**: `loading` ì†ì„±ì€ ì´ë¯¸ì§€ ë¡œë”© ì‹œì ì„ ì œì–´í•œë‹¤.
  - `lazy`: ì´ë¯¸ì§€ê°€ í™”ë©´ì— ë³´ì´ê¸° ì§ì „ì— ë¡œë”©ì„ ì‹œì‘í•œë‹¤. (ìŠ¤í¬ë¡¤ì„ ë‚´ë ¤ì•¼ ë³´ì´ëŠ” ì´ë¯¸ì§€ì— ì í•©)
  - `eager`: ì¦‰ì‹œ ë¡œë”©ì„ ì‹œì‘í•œë‹¤.
- **ì„ íƒ ì´ìœ **: `heroImage`ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í˜ì´ì§€ì— ì ‘ì†í•˜ìë§ˆì ë³´ì´ëŠ” **ê°€ì¥ ì¤‘ìš”í•œ ì´ë¯¸ì§€(Above the Fold)**ì´ë‹¤. ë”°ë¼ì„œ `lazy`ë¡œ ì§€ì—° ë¡œë”©í•  í•„ìš” ì—†ì´, ì¦‰ì‹œ ë¡œë”©ì„ ì‹œì‘í•˜ë¼ëŠ” `eager`ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì˜¬ë°”ë¥¸ ì„ íƒì´ë‹¤. ì´ëŠ” **LCP (Largest Contentful Paint, ìµœëŒ€ ì½˜í…ì¸ í’€ í˜ì¸íŠ¸)** ì„±ëŠ¥ ì§€í‘œë¥¼ ê°œì„ í•˜ëŠ” ë° ì§ì ‘ì ì¸ ë„ì›€ì´ ëœë‹¤.

---

### 4. **`fetchPriority="high"` (ë‹¤ìš´ë¡œë“œ ìš°ì„ ìˆœìœ„ ì§€ì •)** ğŸš€

- **Before**: ì—†ìŒ (ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ìš°ì„ ìˆœìœ„ íŒë‹¨)
- **After**: `fetchPriority="high"`
- **ì„¤ëª…**: ì´ ì†ì„±ì€ ë¸Œë¼ìš°ì €ì—ê²Œ "ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ë“¤ë³´ë‹¤ ì´ ì´ë¯¸ì§€ë¥¼ **ë” ë†’ì€ ìš°ì„ ìˆœìœ„ë¡œ ë¨¼ì € ë‹¤ìš´ë¡œë“œí•´ ì¤˜**"ë¼ê³  ì§ì ‘ì ìœ¼ë¡œ ì•Œë ¤ì£¼ëŠ” ê°•ë ¥í•œ íŒíŠ¸ì´ë‹¤.
- **íš¨ê³¼**: ë¸Œë¼ìš°ì €ëŠ” ìˆ˜ë§ì€ ì´ë¯¸ì§€, ìŠ¤í¬ë¦½íŠ¸, ìŠ¤íƒ€ì¼ì‹œíŠ¸ ë“±ì„ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•œë‹¤. `fetchPriority="high"`ë¥¼ ì„¤ì •í•˜ë©´ ì´ íˆì–´ë¡œ ì´ë¯¸ì§€ê°€ ë‹¤ìš´ë¡œë“œ íì˜ ì•ìª½ì— ë°°ì¹˜ë˜ì–´ **ì‚¬ìš©ìì—ê²Œ ë” ë¹¨ë¦¬ ë³´ì´ê²Œ ëœë‹¤.** ì´ ì—­ì‹œ **LCP ê°œì„ **ì— ë§¤ìš° íš¨ê³¼ì ì¸ ë°©ë²•ì´ë‹¤.

---

### 5. **`decoding="async"` (ì´ë¯¸ì§€ ë””ì½”ë”© ë°©ì‹ ì§€ì •)**

- **Before**: ì—†ìŒ (ê¸°ë³¸ê°’ `auto`)
- **After**: `decoding="async"`
- **ì„¤ëª…**: ì´ë¯¸ì§€ í‘œì‹œëŠ” ë‘ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤: 1) íŒŒì¼ ë‹¤ìš´ë¡œë“œ(ë„¤íŠ¸ì›Œí¬), 2) ì´ë¯¸ì§€ íŒŒì¼ì˜ ì••ì¶•ì„ í’€ì–´ í™”ë©´ì— í”½ì…€ë¡œ í‘œì‹œ(ë””ì½”ë”©). ì´ ë””ì½”ë”© ê³¼ì •ì´ ë•Œë¡œëŠ” ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ë§‰ì•„ í˜ì´ì§€ ì „ì²´ê°€ ì ì‹œ ë©ˆì¹«í•˜ëŠ” í˜„ìƒì„ ìœ ë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **íš¨ê³¼**: `decoding="async"`ëŠ” ì´ ë””ì½”ë”© ê³¼ì •ì„ **ë¹„ë™ê¸°ì ìœ¼ë¡œ(ë°±ê·¸ë¼ìš´ë“œì—ì„œ) ì²˜ë¦¬**í•˜ë„ë¡ ë¸Œë¼ìš°ì €ì— ìš”ì²­í•œë‹¤. ì´ë¥¼ í†µí•´ ì´ë¯¸ì§€ ë””ì½”ë”©ì´ ë‹¤ë¥¸ ë Œë”ë§ ì‘ì—…ì„ ë°©í•´í•˜ì§€ ì•Šê²Œ ë˜ì–´ ë” ë¶€ë“œëŸ¬ìš´ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¶”ê°€ì ìœ¼ë¡œ `hero` ImageëŠ” í˜ì´ì§€ì—ì„œ ì¤‘ìš”í•œ ì´ë¯¸ì§€ì´ë¯€ë¡œ `index.html`ì—ì„œ `preload`ë¡œ ë¯¸ë¦¬ ë¡œë“œí•˜ë„ë¡ ì„¤ì •í•˜ì˜€ë‹¤.

```html
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="./public/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap"
    rel="stylesheet"
  />
  <link rel="preload" as="image" href="<%= require('./src/assets/images/hero.webp') %>" />
  <title>memegle - gif search engine for you</title>
</head>
```

# 2. í•„ìš”í•œ ê²ƒë§Œ ìš”ì²­í•˜ê¸°

## í˜ì´ì§€ë³„ ë¦¬ì†ŒìŠ¤ ë¶„ë¦¬

ì›¹ì‚¬ì´íŠ¸ì˜ ì²«ì¸ìƒì€ ì´ˆê¸° ë¡œë”© ì†ë„ì— ë‹¬ë ¤ìˆë‹¤. ì‚¬ìš©ìê°€ ì²˜ìŒ ì ‘ì†í–ˆì„ ë•Œ, ì‚¬ì´íŠ¸ì˜ ëª¨ë“  í˜ì´ì§€ì— í•„ìš”í•œ ì½”ë“œì™€ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ë‹¤ ë¶ˆëŸ¬ì˜¨ë‹¤ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”? bulkyí•œ ì•±ì´ ë˜ì–´ ë¡œë”©ì´ ë§¤ìš° ëŠë ¤ì§ˆ ê²ƒì´ë‹¤.
ì´ë¥¼ í•´ê²°í•˜ëŠ” ê¸°ìˆ ì´ ë°”ë¡œ ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…(Code Splitting), ì¦‰ í˜ì´ì§€ë³„ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.

ì´ì „ì˜ ì½”ë“œ ë¬¸ì œì ì€ ëª¨ë“  ê±¸ í•œ ë²ˆì— ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ë‹¤.
ì „í†µì ì¸ SPA(Single Page Application) ë°©ì‹ì—ì„œëŠ” ì‚¬ìš©ìê°€ ì–´ë–¤ í˜ì´ì§€ë¥¼ ë³´ë“  ìƒê´€ì—†ì´ ëª¨ë“  í˜ì´ì§€ì˜ ì½”ë“œê°€ ë‹´ê¸´ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ JavaScript íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ /search í˜ì´ì§€ì— ì ‘ì†í–ˆëŠ”ë°ë„ ì²« í˜ì´ì§€ì¸ Home.jsì—ë§Œ í•„ìš”í•œ ë¬´ê±°ìš´ ì´ë¯¸ì§€(hero.webp), ë¹„ë””ì˜¤(trending.mp4) ê°™ì€ ë¦¬ì†ŒìŠ¤ê¹Œì§€ í•¨ê»˜ ë¶ˆëŸ¬ì˜¤ê²Œ ë©ë‹ˆë‹¤. ì´ëŠ” ë¶ˆí•„ìš”í•œ ë‚­ë¹„ì´ë‹¤.

ì´ì— ëŒ€í•œ í•´ê²°ì±…ì€ `React.lazy`ì™€ `Suspense`ë¥¼ ì´ìš©í•˜ì—¬ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ë‹¤.
Reactì—ì„œëŠ” React.lazyì™€ Suspenseë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸(í˜ì´ì§€)ë¥¼ ë™ì ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

#### Before (ê¸°ì¡´ ë°©ì‹)

```js
import Home from './pages/Home';
import Search from './pages/Search';

function App() {
  return (
    <Routes>
      <Route path='/' element={<Home />} />
      <Route path='/search' element={<Search />} />
    </Routes>
  );
}
```

ì´ì „ ì½”ë“œì—ì„œëŠ” ë¼ìš°í„° ì„¤ì • ì‹œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§¨ ìœ„ì—ì„œ ëª¨ë‘ import í•œë‹¤.

#### After (ì½”ë“œ ìŠ¤í”Œë¦¬íŒ… ì ìš©)

`React.lazy`ë¥¼ ì‚¬ìš©í•˜ë©´, í•´ë‹¹ í˜ì´ì§€ì— ì ‘ì†í•˜ëŠ” ìˆœê°„ì— í•„ìš”í•œ JavaScript íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•œë‹¤. `Suspense`ëŠ” ë¡œë”© ì¤‘ì— ë³´ì—¬ì¤„ UI(ì˜ˆ: ìŠ¤í”¼ë„ˆ)ë¥¼ ì„¤ì •í•œë‹¤.

```js
import { BrowserRouter as Router, Route, Routes } from 'react-router-dom';
import { Suspense, lazy } from 'react';

import Home from './pages/Home/Home';
const Search = lazy(() => import('./pages/Search/Search'));

import NavBar from './components/NavBar/NavBar';
import Footer from './components/Footer/Footer';

import './App.css';

const App = () => {
  return (
    <Router>
      <NavBar />
      <Suspense fallback={<div>Loading...</div>}>
        <Routes>
          <Route path='/' element={<Home />} />
          <Route path='/search' element={<Search />} />
        </Routes>
      </Suspense>
      <Footer />
    </Router>
  );
};

export default App;
```

### 1. Home í˜ì´ì§€ë¥¼ ì¦‰ì‹œ ë¡œë“œí•˜ëŠ” ì´ìœ 

- ì²« í˜ì´ì§€ì´ë¯€ë¡œ ì´ˆê¸° ë¡œë”© ì†ë„ê°€ ì¤‘ìš”
- ìƒëŒ€ì ìœ¼ë¡œ ê°€ë²¼ìš´ ì»´í¬ë„ŒíŠ¸
- ì‚¬ìš©ìê°€ ê°€ì¥ ë¨¼ì € ë³´ëŠ” í˜ì´ì§€ë¼ ë¡œë”© ì§€ì—°ì´ UXì— ì•…ì˜í–¥

### 2. Search í˜ì´ì§€ë§Œ lazy loadingí•˜ëŠ” ì´ìœ 

- ìƒëŒ€ì ìœ¼ë¡œ ë¬´ê±°ìš´ ê¸°ëŠ¥ë“¤ (ê²€ìƒ‰, API í˜¸ì¶œ, ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬)
- ëª¨ë“  ì‚¬ìš©ìê°€ ê²€ìƒ‰ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ
- ë²ˆë“¤ ë¶„í• ë¡œ ì´ˆê¸° ë¡œë”© ì†ë„ ê°œì„ 

## ì•„ì´ì½˜ íŒ¨í‚¤ì§€ Tree Shaking

```js
optimization: {
    ...
    usedExports: true,
    sideEffects: false,
    ...
}
```

# 3. ê°™ì€ ê±´ ë§¤ë²ˆ ìƒˆë¡œ ìš”ì²­í•˜ì§€ ì•Šê¸°

## CloudFront ìºì‹œ ì„¤ì • / S3 ë©”íƒ€ë°ì´í„° ì„¤ì • (ì„¤ì •ê°’, í•´ë‹¹ ê°’ì„ ì„¤ì •í•œ ì´ìœ  í¬í•¨)

![](https://velog.velcdn.com/images/eunwoo1341/post/4c4b605f-f97e-40f1-bb75-d23e82619061/image.png)

`Cloudfront - Policies` ì— ë“¤ì–´ê°€ì„œ `Create cache policy`ë¥¼ í´ë¦­í•˜ì—¬ ê¸°ë³¸ ê°’ìœ¼ë¡œ ìºì‹œ ì •ì±…ì„ ìƒì„±í•˜ì˜€ë‹¤.

![](https://velog.velcdn.com/images/eunwoo1341/post/a1abd4b1-2903-47e8-b14e-a39c17ec505a/image.png)

CloudFrontëŠ” ìºì‹œëœ ê°ì²´(íŒŒì¼, ì‘ë‹µ ë“±)ë¥¼ ì–¼ë§ˆë‚˜ ì˜¤ë˜ ë³´ê´€í• ì§€ë¥¼ **TTL ê°’**ìœ¼ë¡œ ê²°ì •í•œë‹¤.

TTLì€ **ì´ˆ ë‹¨ìœ„**ë¡œ ì„¤ì •í•œë‹¤.

### 1. **Minimum TTL**

- **ìµœì†Œ TTL**ì€ ìºì‹œì— ì €ì¥ëœ ê°ì²´ê°€ **ë°˜ë“œì‹œ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ìµœì†Œ ì‹œê°„**ì´ë‹¤.
- ì´ ì‹œê°„ì´ ì§€ë‚˜ê¸° ì „ì—ëŠ” CloudFrontê°€ ì›ë³¸(origin) ì„œë²„ì— ë‹¤ì‹œ ìš”ì²­í•˜ì§€ ì•Šê³ , ìºì‹œëœ ë°ì´í„°ë¥¼ ê³„ì† ì œê³µí•œë‹¤.
- ì˜ˆ: `1` ë¡œ ì„¤ì • â†’ ìµœì†Œ 1ì´ˆ ë™ì•ˆì€ ìºì‹œëœ ê²°ê³¼ë¥¼ ë¬´ì¡°ê±´ ì‚¬ìš©.

ì‚¬ìš© ì´ìœ : ë„ˆë¬´ ìì£¼ ìºì‹œë¥¼ ë¬´íš¨í™”í•˜ë©´ ì›ë³¸ ì„œë²„ ë¶€í•˜ê°€ ì»¤ì§€ê¸° ë•Œë¬¸ì—, "ìµœì†Œ ë³´ì¥ ìºì‹± ì‹œê°„"ì„ ë‘ëŠ” ê²ƒ.

---

### 2. **Maximum TTL**

- **ìµœëŒ€ TTL**ì€ ìºì‹œì— ì €ì¥ëœ ê°ì²´ê°€ **ìµœëŒ€ë¡œ ìœ ì§€ë  ìˆ˜ ìˆëŠ” ì‹œê°„**ì´ë‹¤.
- ì›ë³¸ ì„œë²„ê°€ ìºì‹œ ì œì–´ í—¤ë”(`Cache-Control`, `Expires`)ë¥¼ ê¸¸ê²Œ ì„¤ì •í–ˆë”ë¼ë„, ì´ ê°’ ì´ìƒì€ CloudFrontê°€ ë³´ê´€í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì˜ˆ: `31536000` (1ë…„) â†’ ìºì‹œë¥¼ ì•„ë¬´ë¦¬ ê¸¸ê²Œ ìœ ì§€í•˜ë ¤ í•´ë„ 1ë…„ì„ ë„˜ê¸¸ ìˆ˜ ì—†ìŒ.

ì‚¬ìš© ì´ìœ : ë„ˆë¬´ ì˜¤ë˜ëœ ì½˜í…ì¸ ê°€ ë‚¨ì•„ ìˆì§€ ì•Šë„ë¡ ìƒí•œì„ ì„ ì •í•˜ëŠ” ê²ƒ.

---

### 3. **Default TTL**

- **ê¸°ë³¸ TTL**ì€ ìºì‹œ ì œì–´ í—¤ë”ê°€ ì—†ì„ ë•Œ CloudFrontê°€ ì ìš©í•˜ëŠ” ê¸°ë³¸ ìºì‹± ì‹œê°„ì´ë‹¤.
- ì›ë³¸ì—ì„œ `Cache-Control`ì´ë‚˜ `Expires`ê°€ ì§€ì •ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ì´ ê°’ë§Œí¼ ìºì‹œí•œë‹¤.
- ì˜ˆ: `86400` (24ì‹œê°„) â†’ í—¤ë”ê°€ ì—†ìœ¼ë©´ 24ì‹œê°„ ë™ì•ˆ ìºì‹œ ìœ ì§€.

ì‚¬ìš© ì´ìœ : ì›ë³¸ ì„œë²„ì—ì„œ ëª…ì‹œí•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ ìºì‹± ì •ì±…ì„ ê°–ì¶”ë„ë¡ í•˜ê¸° ìœ„í•¨.

## GIPHYì˜ trending APIë¥¼ Search í˜ì´ì§€ì— ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ìƒˆë¡œ ìš”ì²­í•˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.

trending ë°ì´í„°ë¥¼ ìºì‹±í•˜ì—¬ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì„ ì¤„ì´ê³ , ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```ts
// Trending ë°ì´í„° ìºì‹œ
interface TrendingCache {
  data: GifImageModel[] | null;
  timestamp: number;
  expireTime: number; // 30ë¶„ = 30 * 60 * 1000ms
}

const trendingCache: TrendingCache = {
  data: null,
  timestamp: 0,
  expireTime: 30 * 60 * 1000, // 30ë¶„
};

const isCacheValid = (cache: TrendingCache): boolean => {
  return cache.data !== null && Date.now() - cache.timestamp < cache.expireTime;
};
```

ìœ„ì™€ ê°™ì´ ë©”ëª¨ë¦¬ ìºì‹œë¥¼ êµ¬í˜„í•˜ì—¬, ìºì‹œê°€ ìœ íš¨í•œ ë™ì•ˆì—ëŠ” API í˜¸ì¶œì„ ìƒëµí•˜ê³  ìºì‹œëœ ë°ì´í„°ë¥¼ ë°˜í™˜í•œë‹¤.

```ts
export const gifAPIService = {
  /**
   * treding gif ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
   * @returns {Promise<GifImageModel[]>}
   * @ref https://developers.giphy.com/docs/api/endpoint#!/gifs/trending
   */
  getTrending: async (): Promise<GifImageModel[]> => {
    // ìºì‹œê°€ ìœ íš¨í•œ ê²½ìš° ìºì‹œëœ ë°ì´í„° ë°˜í™˜
    if (isCacheValid(trendingCache)) {
      console.log('ğŸš€ Trending data loaded from cache');
      return trendingCache.data!;
    }

    console.log('ğŸ“¡ Fetching trending data from API');
    const url = apiClient.appendSearchParams(new URL(`${BASE_URL}/trending`), {
      api_key: API_KEY,
      limit: `${DEFAULT_FETCH_COUNT}`,
      rating: 'g',
    });

    const data = await fetchGifs(url);

    // ìºì‹œ ì—…ë°ì´íŠ¸
    trendingCache.data = data;
    trendingCache.timestamp = Date.now();

    return data;
  },
  /**
   * ê²€ìƒ‰ì–´ì— ë§ëŠ” gif ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
   * @param {string} keyword
   * @param {number} page
   * @returns {Promise<GifImageModel[]>}
   * @ref https://developers.giphy.com/docs/api/endpoint#!/gifs/search
   */
  searchByKeyword: async (keyword: string, page: number): Promise<GifImageModel[]> => {
    const url = apiClient.appendSearchParams(new URL(`${BASE_URL}/search`), {
      api_key: API_KEY,
      q: keyword,
      limit: `${DEFAULT_FETCH_COUNT}`,
      offset: `${page * DEFAULT_FETCH_COUNT}`,
      rating: 'g',
      lang: 'en',
    });

    return fetchGifs(url);
  },
};
```

ê¸°ì¡´ ì¡´ì¬í•˜ë˜ `getTrending` ë©”ì„œë“œë¥¼ ìˆ˜ì •í•˜ì—¬, ìºì‹œê°€ ìœ íš¨í•œ ê²½ìš°ì—ëŠ” ìºì‹œëœ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ê³ , ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ì—ë§Œ APIë¥¼ í˜¸ì¶œí•˜ë„ë¡ ë³€ê²½í•˜ì˜€ë‹¤.

# 4. ìµœì†Œí•œì˜ ë³€ê²½ë§Œ ì¼ìœ¼í‚¤ê¸°

## ê²€ìƒ‰ ê²°ê³¼ > ì¶”ê°€ ë¡œë“œì‹œ ì¶”ê°€ëœ ëª©ë¡ë§Œ ìƒˆë¡œ ë Œë”ë˜ì–´ì•¼ í•œë‹¤.

### 1. GifItem ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜ (React.memo)

```tsx
// Before
const GifItem = ({ imageUrl = '', title = '' }: GifItemProps) => {

// After
const GifItem = memo(({ imageUrl = '', title = '' }: GifItemProps) => {
```

ì´ì „ ì½”ë“œì˜ ê²½ìš° "Load More" ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ìƒˆë¡œìš´ GIF ì•„ì´í…œë“¤ì„ ë°›ì•„ì˜¤ë©´ ê¸°ì¡´ì˜ GIFItem ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë‹¤ì‹œ ì¬ë Œë”ë§ ë˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `React.memo` í›…ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì•„ì´í…œë§Œ ë Œë”ë§ ë˜ë„ë¡ í•˜ì˜€ë‹¤.

- ê¸°ì¡´ GIF ì•„ì´í…œë“¤ì´ propsê°€ ë³€ê²½ë˜ì§€ ì•Šì€ ê²½ìš° ì¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ
- ì¶”ê°€ ë¡œë“œ ì‹œ ìƒˆë¡œìš´ ì•„ì´í…œë§Œ ë Œë”ë§ë˜ê³ , ê¸°ì¡´ ì•„ì´í…œë“¤ì€ ë©”ëª¨ì´ì œì´ì…˜ìœ¼ë¡œ ê±´ë„ˆëœ€

### 2. loadMore í•¨ìˆ˜ useCallback ìµœì í™”

```tsx
// Before
const loadMore = async (): Promise<void> => {

// After
const loadMore = useCallback(async (): Promise<void> => {
  // ... ë™ì¼í•œ ë¡œì§
}, [currentPageIndex, searchKeyword]);
```

- `loadMore` í•¨ìˆ˜ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì¬ìƒì„±ë˜ì§€ ì•ŠìŒ
- ì˜ì¡´ì„± ë°°ì—´ `[currentPageIndex, searchKeyword]`ë¡œ í•„ìš”í•œ ê²½ìš°ì—ë§Œ í•¨ìˆ˜ ì¬ìƒì„±
- í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬ë  ë•Œ ì°¸ì¡° ì•ˆì •ì„± ë³´ì¥

## Layout Shift ì—†ì´ ì• ë‹ˆë©”ì´ì…˜ì´ ì¼ì–´ë‚˜ì•¼ í•œë‹¤.

`Layout Shift`ë€ í˜ì´ì§€ì˜ ë ˆì´ì•„ì›ƒì´ ê°‘ìê¸° ë³€ê²½ë˜ì–´ ì‚¬ìš©ìê°€ ì˜ë„ì¹˜ ì•Šê²Œ ë‹¤ë¥¸ ìœ„ì¹˜ë¥¼ í´ë¦­í•˜ê²Œ ë˜ëŠ” í˜„ìƒì„ ì˜ë¯¸í•œë‹¤.

- 1. CustomCursor

```css
.cursor {
  will-change: transform;
  transform: translate(0, 0);
}
```

```js
cursorRef.current.style.transform = `translate(${x}px, ${y}px)`;
```

- 2. ê²€ìƒ‰ ê²°ê³¼ hover

```css
/* Before */
.gifItem:hover {
  top: -0.75rem; /* âŒ Layout Shift ë°œìƒ */
}

/* After */
.gifItem:hover {
  transform: translateY(-0.75rem); /* âœ… GPU ì²˜ë¦¬ */
  will-change: transform;
}
```

- 3. ë„ì›€ë§ íŒ¨ë„

```css
.selectedItemContainer {
  transform: translateX(100%); /* ì´ˆê¸° ìˆ¨ê¹€ */
  will-change: transform, opacity;
}

.selectedItemContainer.showSheet {
  transform: translateX(0); /* right: 0 ëŒ€ì‹  */
}
```

| ì†ì„±      | Before        | After       | íš¨ê³¼               |
| --------- | ------------- | ----------- | ------------------ |
| ìœ„ì¹˜ ë³€ê²½ | `top`, `left` | `transform` | Layout ë‹¨ê³„ ê±´ë„ˆëœ€ |
| íŒ¨ë„ í† ê¸€ | `right` ë³€ê²½  | `translateX |

### CPU vs GPU ì²˜ë¦¬ ì°¨ì´

#### CPU ì²˜ë¦¬ (Before)

```css
.gifItem:hover {
  top: -0.75rem; /* CPUê°€ Layout â†’ Paint â†’ Composite ëª¨ë“  ë‹¨ê³„ ì²˜ë¦¬ */
}
```

ì²˜ë¦¬ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤.

- Layout: ìš”ì†Œ ìœ„ì¹˜ ì¬ê³„ì‚°
- Paint: í”½ì…€ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
- Composite: ë ˆì´ì–´ í•©ì„±
- ë‹¤ë¥¸ ìš”ì†Œë“¤ë„ ì˜í–¥ë°›ì•„ ì¬ê³„ì‚°

```
Performance Timeline:
[Layout][Paint][Composite] â† ëª¨ë“  ë‹¨ê³„ ì‹¤í–‰
     â†“       â†“        â†“
   ëŠë¦¼    ë¬´ê²ë‹¤   Frame Drop
```

#### GPU ì²˜ë¦¬ (After)

```css
.gifItem:hover {
  transform: translateY(-0.75rem); /* GPUê°€ Composite ë‹¨ê³„ë§Œ ì²˜ë¦¬ */
  will-change: transform;
}
```

GPUì˜ ì²˜ë¦¬ ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤.

- `<del>Layout</del>` (ê±´ë„ˆëœ€)
- `<del>Paint</del>` (ê±´ë„ˆëœ€)
- Composite: GPUì—ì„œ ì§ì ‘ ì²˜ë¦¬

```
Performance Timeline:
           [Composite] â† GPUì—ì„œ ë¹ ë¥´ê²Œ ì²˜ë¦¬
               â†“
           ë¶€ë“œëŸ¬ì›€
```

#### ê°œì„ ëœ ì 

- 1. ì„±ëŠ¥ í–¥ìƒ
  - ì²˜ë¦¬ ì†ë„: CPU ëŒ€ë¹„ GPUê°€ ë³‘ë ¬ ì²˜ë¦¬ì— íŠ¹í™”
  - í”„ë ˆì„ë¥ : ì•ˆì •ì ì¸ 60fps ìœ ì§€
  - ì‘ë‹µì„±: ì¦‰ê°ì ì¸ ì• ë‹ˆë©”ì´ì…˜ ë°˜ì‘
- 2. ë©”ì¸ ìŠ¤ë ˆë“œ í•´ë°©
  - CPU ë¶€í•˜ ê°ì†Œ: ë©”ì¸ ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥
  - JavaScript ì‹¤í–‰: ì• ë‹ˆë©”ì´ì…˜ ì¤‘ì—ë„ ì¸í„°ë™ì…˜ ì›í™œ
  - ë©€í‹°íƒœìŠ¤í‚¹: ì—¬ëŸ¬ ì• ë‹ˆë©”ì´ì…˜ ë™ì‹œ ì²˜ë¦¬ ê°€ëŠ¥
- 3. ì „ë ¥ íš¨ìœ¨ì„±
  - ë°°í„°ë¦¬ ìˆ˜ëª…: ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì „ë ¥ ì†Œëª¨ ê°ì†Œ
  - ë°œì—´ ë°©ì§€: CPU ì‚¬ìš©ëŸ‰ ê°ì†Œë¡œ ê¸°ê¸° ì˜¨ë„ ë‚®ì¶¤
  - ìµœì í™”: í•˜ë“œì›¨ì–´ ê°€ì† í™œìš©
- 4. ì‚¬ìš©ì ê²½í—˜
  - ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜: ëŠê¹€ ì—†ëŠ” 60fps
  - ë°˜ì‘ì„±: ì§€ì—° ì—†ëŠ” ì¦‰ì‹œ ë°˜ì‘
  - ì•ˆì •ì„±: Frame Drop ì—†ìŒ

## Frame Dropì´ ì¼ì–´ë‚˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.

`Frame Drop`ì´ë€ ì• ë‹ˆë©”ì´ì…˜ì´ ë¶€ë“œëŸ½ì§€ ì•Šê³  ëŠê¸°ëŠ” í˜„ìƒì„ ì˜ë¯¸í•œë‹¤.

1. requestAnimationFrameì„ í†µí•œ í”„ë ˆì„ ë™ê¸°í™”

`requestAnimationFrame`ì€ ë¸Œë¼ìš°ì €ì—ê²Œ **"ë‹¤ìŒ ë¦¬í˜ì¸íŠ¸ ì „ì— ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ì¤˜"**ë¼ê³  ìš”ì²­í•˜ëŠ” APIì´ë‹¤.

ë¸Œë¼ìš°ì €ì˜ ë Œë”ë§ íŒŒì´í”„ë¼ì¸ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë©´ ì•„ë˜ì™€ ê°™ë‹¤.

1. ë¸Œë¼ìš°ì €ì˜ ê¸°ë³¸ ë™ì‘ ì£¼ê¸° (60Hz ëª¨ë‹ˆí„° ê¸°ì¤€)

```
1í”„ë ˆì„ = 16.67ms (1000ms Ã· 60fps)

[í”„ë ˆì„ 1] â†’ [í”„ë ˆì„ 2] â†’ [í”„ë ˆì„ 3] â†’ ...
   16ms       16ms       16ms
```

2. ê° í”„ë ˆì„ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼

```
JavaScript ì‹¤í–‰ â†’ Style ê³„ì‚° â†’ Layout â†’ Paint â†’ Composite
      â†‘
requestAnimationFrame ì½œë°±ì´ ì—¬ê¸°ì„œ ì‹¤í–‰ë¨
```

ê·¸ë˜ì„œ ì´ì „ ì½”ë“œë¥¼ ì‚´í´ë³´ë©´

```tsx
const handleMouseMove = (e: MouseEvent) => {
  setMousePosition({ x: e.clientX, y: e.clientY }); // ì¦‰ì‹œ ì‹¤í–‰
};

window.addEventListener('mousemove', handleMouseMove);
```

ì´ ì½”ë“œì˜ ë¬¸ì œì ì€ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.

- ë§ˆìš°ìŠ¤ê°€ ë¹ ë¥´ê²Œ ì›€ì§ì´ë©´ 1í”„ë ˆì„(16ms) ë™ì•ˆ ì—¬ëŸ¬ ë²ˆ í˜¸ì¶œë¨
- ì˜ˆ: 1msë§ˆë‹¤ mousemove ì´ë²¤íŠ¸ ë°œìƒ ì‹œ â†’ 16ë²ˆì˜ setState í˜¸ì¶œ
- ë¸Œë¼ìš°ì €ëŠ” 16ë²ˆ ëª¨ë‘ ì²˜ë¦¬í•˜ë ¤ê³  ì‹œë„ â†’ Frame Drop ë°œìƒ

ì•„ë˜ëŠ” `requestAnimationFrame`ë¥¼ ì´ìš©í•˜ì—¬ ê°œì„ í•œ ì½”ë“œì´ë‹¤.

```ts
import { useCallback, useEffect, useRef, useState } from 'react';

export type MousePosition = Partial<MouseEvent>;

const useMousePosition = () => {
  const [mousePosition, setMousePosition] = useState<MousePosition>({
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    offsetX: 0,
    offsetY: 0,
  });

  const animationRef = useRef<number>();

  const updateMousePosition = useCallback((e: MouseEvent) => {
    const { clientX, clientY, pageX, pageY, offsetX, offsetY } = e;

    if (animationRef.current) {
      cancelAnimationFrame(animationRef.current);
    }

    animationRef.current = requestAnimationFrame(() => {
      setMousePosition({
        clientX,
        clientY,
        pageX,
        pageY,
        offsetX,
        offsetY,
      });
    });
  }, []);

  useEffect(() => {
    window.addEventListener('mousemove', updateMousePosition);

    return () => {
      window.removeEventListener('mousemove', updateMousePosition);
      if (animationRef.current) {
        cancelAnimationFrame(animationRef.current);
      }
    };
  }, [updateMousePosition]);

  return mousePosition;
};

export default useMousePosition;
```

- ë¸Œë¼ìš°ì €ì˜ ë¦¬í˜ì¸íŠ¸ ì£¼ê¸°(ë³´í†µ 60fps)ì— ë§ì¶° ìƒíƒœ ì—…ë°ì´íŠ¸
  - 1í”„ë ˆì„ë‹¹ ìµœëŒ€ 1ë²ˆë§Œ setState ì‹¤í–‰
- `useCallback` ë©”ëª¨ì´ì œì´ì…˜ì„ í†µí•˜ì—¬ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ í•¨ìˆ˜ê°€ ë§¤ë²ˆ ì¬ìƒì„±ë˜ì§€ ì•Šë„ë¡ í•˜ì˜€ë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ë™ì‘í•œë‹¤.

```
ì‹œê°„ì¶•: 0ms â†’ 4ms â†’ 8ms â†’ 12ms â†’ 16ms (1í”„ë ˆì„)
ì´ë²¤íŠ¸:  â†“     â†“     â†“      â†“      â†“
       ìš”ì²­   ì·¨ì†Œ   ìš”ì²­    ì·¨ì†Œ    ìš”ì²­ â†’ 16msì— 1ë²ˆë§Œ ì‹¤í–‰
ê²°ê³¼: 1ë²ˆì˜ ë¦¬ë Œë”ë§ â†’ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜
```

=> ë§ˆìš°ìŠ¤ê°€ ë¹ ë¥´ê²Œ ì›€ì§ì—¬ë„ 1í”„ë ˆì„ë‹¹ ìµœëŒ€ 1ë²ˆë§Œ ìƒíƒœ ì—…ë°ì´íŠ¸

## ìµœì í™” ê²°ê³¼

![](https://velog.velcdn.com/images/eunwoo1341/post/f890cdc9-0b51-470c-85b8-f83a476c912b/image.png)

- Lighthouse ê²°ê³¼

![](https://velog.velcdn.com/images/eunwoo1341/post/eda9149e-8363-4237-a93b-4001282be945/image.png)

- ë„¤íŠ¸ì›Œí¬ ê²°ê³¼
